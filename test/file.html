<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function verifyFile(file) {
            const maxSize = 1024 * 1024;
            const suffixs = ['.jpg', '.png']
            return new Promise(function (resolve, reject) {
                if (file.size > maxSize) {
                    return reject('文件大小超过限制')
                }
                if (suffixs.includes(file.name.match(/\.\w+$/)?.[0].toLowerCase())) {
                    return reject('文件类型不支持')
                }
                resolve(file)
            })
        }

        function existsFile(file) {
            return new Promise(function (resolve, reject) {
                $.get('/api/getFileByMd5', { md5: getFileMd5(file) }, function (data, status) {
                    if (status === 'success') {
                        if (data.file) {
                            resolve()
                        } else {
                            reject()
                        }
                    }
                })
            })
        }

        // <input type="file" onchange="onChange" />

        function handleUpload(files) {
            console.log(files);
        }
    </script>
</head>

<body>
    <input type="file" onchange="handleUpload(this.files)" />
    <div>
        <pre id="output">

        </pre>
    </div>
</body>

</html>